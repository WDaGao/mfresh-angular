<div class="register">
  <h2>新用户注册</h2>
  <form #form="ngForm" (submit)="onSubmit()">
    <ul>
      <li>
        <span>邮箱：</span>
        <input 
            type="text" 
            id="uname" 
            name="uname"
            required
            [(ngModel)]="register.uname"
            #uname="ngModel"
            placeholder="请输入邮箱名">
        <em></em>
        <i></i>
        <div *ngIf="uname.invalid && (uname.dirty || uname.touched)" class="alert alert-danger">
          <div style="color:red" *ngIf="uname.errors.required">
            *必填
          </div>
        </div>
        <div style="color:red" *ngIf="message" class="alert alert-danger">
          {{ message }}
        </div>
      </li>
      <li>
        <span>密码：</span>
        <input 
            type="password" 
            id="upwd" 
            name="upwd"
            required
            [(ngModel)]="register.upwd"
            #upwd="ngModel"
            placeholder="请输入密码">
        <em></em>
        <i></i>
        <div *ngIf="upwd.invalid && (upwd.dirty || upwd.touched)" class="alert alert-danger">
          <div style="color:red" *ngIf="upwd.errors.required">
            *必填
          </div>
        </div>
      </li>
      <li>
        <span>重复密码：</span>
        <input type="password" 
            id="upwd2" required
            name="upwd2"
            [(ngModel)]="register.upwd2"
            #upwd2="ngModel"
            placeholder="请重复输入密码">
        <em></em>
        <i></i>
        <div *ngIf="upwd2.invalid && (upwd2.dirty || upwd2.touched)" class="alert alert-danger">
          <div style="color:red" *ngIf="upwd2.errors.required">
            *必填
          </div>
        </div>
        <div style="color:red" *ngIf="register.upwd2!=register.upwd" class="alert alert-danger">
          两次密码不一致
        </div>
      </li>
      <li>
        <span>手机号：</span>
        <input 
            type="text" 
            id="phone" 
            name="phone"
            required
            [(ngModel)]="register.phone"
            minlength="11"
            #phone="ngModel"
            placeholder="请输入手机号">
        <em></em>
        <i></i>
        <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger">
          <div style="color:red" *ngIf="phone.errors.required">
            *必填
          </div>
          <div style="color:red" *ngIf="phone.errors.minlength">
            长度不能低于11位
          </div>
        </div>
      </li>
      <li>
        <span>验证码：</span>
        <input type="text" class="inp_yzm"  placeholder="请输入验证码">
        <img src="images/yzm.png" alt="">
        <strong class="icon_refresh"></strong>
      </li>
      <li class="li_checkbox"><label>
          <input type="checkbox" checked="">
          <span>我已阅读并同意用户注册协议</span>
        </label>
      </li>
      <li class="li_btn">
        <button [disabled]="!form.form.valid" type="submit" >提交注册</button>
      </li>
    </ul>
  </form>
</div>